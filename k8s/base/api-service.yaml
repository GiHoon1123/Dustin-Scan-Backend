apiVersion: v1
kind: Service
metadata:
  name: api-service
  namespace: dustin-scan
  labels:
    app: dustin-scan
    component: api
spec:
  type: NodePort # 외부 접근 가능 (NodePort 사용)
  selector:
    app: dustin-scan
    component: api
  ports:
    - name: http
      protocol: TCP
      port: 4000 # 서비스 포트
      targetPort: 4000 # 컨테이너 내부 포트
      nodePort: 4000 # 외부에서 접근하는 포트 (30000-32767 범위 밖이면 자동 할당)
  sessionAffinity: None
