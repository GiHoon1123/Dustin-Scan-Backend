apiVersion: v1
kind: Service
metadata:
  name: api-service
  namespace: dustin-scan
  labels:
    app: dustin-scan
    component: api
spec:
  type: LoadBalancer # 외부 접근 가능 (NodePort로도 변경 가능)
  selector:
    app: dustin-scan
    component: api
  ports:
    - name: http
      protocol: TCP
      port: 4000 # 외부에서 접근하는 포트
      targetPort: 4000 # 컨테이너 내부 포트
  sessionAffinity: None
