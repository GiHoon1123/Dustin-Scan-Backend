apiVersion: v1
kind: Service
metadata:
  name: api-service
  namespace: dustin-scan
  labels:
    app: dustin-scan
    component: api
spec:
  type: NodePort # 외부 접근 가능 (NodePort 사용)
  selector:
    app: dustin-scan
    component: api
  ports:
    - name: http
      protocol: TCP
      port: 4000 # 서비스 포트
      targetPort: 4000 # 컨테이너 내부 포트
      # nodePort는 자동 할당 (30000-32767 범위)
      # 외부 접근은 Deployment의 hostPort: 4000을 통해 직접 접근
  sessionAffinity: None
