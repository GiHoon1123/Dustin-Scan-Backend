apiVersion: v1
kind: ConfigMap
metadata:
  name: dustin-scan-config
  namespace: dustin-scan
data:
  # Node 환경
  NODE_ENV: 'production'

  # 포트 설정
  API_PORT: '4000'
  INDEXER_PORT: '4001'
  SYNC_PORT: '4002'

  # 데이터베이스 설정 (호스트와 비밀번호는 Secret에서 관리)
  DB_PORT: '5432'
  DB_USERNAME: 'root'
  DB_SYNCHRONIZE: 'false'

  # Chain RPC URL (도커 컨테이너로 실행 중인 Dustin-Chain에 접근)
  # 워커 노드 IP로 직접 접근 (도커 컨테이너는 호스트 포트 3000에 바인딩됨)
  CHAIN_URL: 'http://172.31.45.89:3000'

  # Indexer Service URL (ClusterIP 직접 사용 - DNS 문제 우회)
  # ClusterIP는 서비스 재생성 시 변경될 수 있으므로 주의 필요
  INDEXER_URL: 'http://10.43.132.21:4001'

  # Healthcheck 포트
  HEALTHCHECK_PORT: '4000'
